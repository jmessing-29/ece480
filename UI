import tkinter as tk
from tkinter import *
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
import matplotlib.pyplot as plt
from matplotlib.figure import Figure
import matplotlib.animation as animation
import time
import numpy as np


# Create the main window
root = tk.Tk()
root.title("Contaminant Sensing")

# Set window dimensions to full screen dimensions
screen_width = root.winfo_screenwidth()
screen_height = root.winfo_screenheight()
root.geometry(f"{screen_width}x{screen_height}")
root.attributes('-topmost', True)


root.config(bg="skyblue")

# Create a matplotlib figure and axis
fig = plt.figure(figsize=(6, 4))
ax = fig.add_subplot(111)
ax.set_xlim(0, 10)
ax.set_ylim(0, 1)
line, = ax.plot([], [])
ax.set_title("Contaminant Sensing")
ax.set_xlabel("Time")
ax.set_ylabel("Concentration")
canvas = FigureCanvasTkAgg(fig, master=root)
canvas_widget = canvas.get_tk_widget()
canvas_widget.pack()

x_data = []
y_data = []

def update_plot():
    x_data.append(len(x_data))
    y_data.append(np.random.random())
    line.set_data(x_data, y_data)
    ax.relim()
    ax.autoscale_view()
    canvas.draw()
    root.after(500, update_plot)  # Update every half second

# Start the animation
start_button = Button(root, text="Start Experiment", command=update_plot)
start_button.pack()
# stop_button = Button(root, text="Stop Experiment", command=update_plot)
# stop_button.pack()
# update_plot()

# Start the tkinter main loop
root.mainloop()
